---
interface Props {
  title: string
  pubDate: Date
  description: string
  email: string
  author: string
}

const { title = 'Sin t√≠tulo', pubDate, description, email = 'gonzaleztenreiro@gmail.com', author } = Astro.props
---

<section class='p-10 mark-down'>
  <aside class="flex justify-between items-center gap-2 mb-4 text-sm">
    <strong>
      {title}
    </strong>
    <address class='font-semibold'>
      Autor:
      <a
        class='text-link dark:text-link-dark hover:underline'
        href={`mailto:${email}`}
      >
        {author}
      </a>
    </address>
    <time datetime={`${pubDate.getFullYear()}-${(pubDate.getMonth() + 1).toString().padStart(2, '0')}-${pubDate.getDate().toString().padStart(2, '0')}`}>{pubDate?.toDateString()}</time>
  </aside>
  <slot />
</section>

<style is:inline>
  .mark-down {
    --global-body-size: clamp(1em, calc(2 / 72 * 100vw), 1.6em);

    --global-pre-size: clamp(0.8em, calc(1.2 / 72 * 100vw), 1.2em);

    --global-h1-size: clamp(1.6em, calc(3 / 72 * 100vw), 3em);

    --global-h2-size: clamp(1.4em, calc(2.4 / 72 * 100vw), 2.4em);

    --global-h3-size: clamp(1.2em, calc(2.2 / 72 * 100vw), 2.2em);

    --global-h4-size: clamp(1.1em, calc(1.8 / 72 * 100vw), 1.8em);

    font-size: var(--global-body-size);
    text-transform: initial;
    margin: 0 auto;
    max-width: 60rem;
  }

  .mark-down pre {
    margin: 1em 0;
    background-color: #333;
    font-size: calc(var(--global-pre-size));
  }

  .mark-down pre,
  .mark-down code {
    font-family: Menlo, Monaco, "Courier New", monospace;
  }
  .mark-down pre {
    padding: 0.5rem;
    line-height: 1.25;
    overflow-x: scroll;
  }
  .mark-down blockquote {
    border-left: 3px solid #01ff70;
    padding-left: 1rem;
  }

  .mark-down ul,
  .mark-down ol {
    list-style-type: initial;
    padding-left: .8em;
  }

  .mark-down a {
    text-decoration: underline;
  }

  .mark-down li,
  .mark-down p {
    margin: 1.3rem 0;
    text-wrap: pretty;
    line-height: 2;
    font-size: inherit;
  }

  .mark-down li {
    margin-left: 1rem;
  }

  .mark-down ol {
    list-style-type: decimal;
  }

  .mark-down p {
    border-left: 2px solid rgb(40 116 252/50%);
    padding-left: 1rem;
  }

  .mark-down h1,
  .mark-down h2,
  .mark-down h3,
  .mark-down h4 {
    margin: 1.414rem 0 0.5rem;
    font-weight: inherit;
    line-height: 1.42;
    text-wrap: balance;
  }

  .mark-down h1 {
    margin-top: 0;
    font-size: var(--global-h1-size);
    text-wrap: balance;
  }

  .mark-down h2 {
    font-size: var(--global-h2-size);
    text-wrap: balance;
  }

  .mark-down h3 {
    font-size: var(--global-h3-size);
    text-wrap: balance;
  }

  .mark-down h4 {
    font-size: var(--global-h4-size);
    text-wrap: balance;
  }

  .mark-down small {
    font-size: 0.707em;
  }

  .mark-down iframe {
    height: 100%;
    width: 100%;
    aspect-ratio: 16 / 9;
  }

  /* https://github.com/mrmrs/fluidity */

  .mark-down img,
  .mark-down canvas,
  .mark-down iframe,
  .mark-down video,
  .mark-down svg,
  .mark-down select,
  .mark-down textarea {
    max-width: 100%;
  }
</style>
